"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{324:(e,t,a)=>{a.d(t,{default:()=>l});var n=a(5155),s=a(2115),o=a(1934),i=a(8078);function r(e){let{isActive:t,index:a,isMobile:s,getFixedSize:i,getFixedColor:r}=e,l=e=>({x:{delay:.01*e,duration:.18,ease:"easeOut"},y:{delay:.01*e+.005,duration:.18,ease:"easeOut"},scale:{delay:.01*e+.01,duration:.18,ease:"easeOut"},rotate:{delay:.01*e+.015,duration:.5,ease:"easeOut"}});return(0,n.jsxs)("div",{className:"absolute inset-0 pointer-events-none transition-opacity duration-300 ".concat(t?"opacity-100":"opacity-0"),style:{willChange:"opacity",transform:"translateZ(0)"},children:[(0,n.jsx)(o.P.div,{className:"absolute top-1/2 left-1/2 ".concat(i(a,0)," ").concat(r(a,0)," rounded-full pointer-events-none"),style:{transform:"translateZ(0)",willChange:t?"transform":"auto"},initial:{x:"-50%",y:"-50%",scale:1,rotate:0},animate:t?{x:"calc(-50% + 80px)",y:"calc(-50% - 150px)",scale:1.2,rotate:150,transition:l(0)}:{x:"-50%",y:"-50%",scale:1,rotate:0,transition:{duration:.2,ease:"easeOut"}}}),(0,n.jsx)(o.P.div,{className:"absolute top-1/2 left-1/2 ".concat(i(a,1)," ").concat(r(a,1)," pointer-events-none"),style:{clipPath:"polygon(50% 0%, 0% 86.6%, 100% 86.6%)",...function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"translateZ(0)";return{transform:e,willChange:t?"transform":"auto"}}()},initial:{x:"-50%",y:"-50%",scale:1,rotate:0},animate:t?{x:"calc(-50% - 170px)",y:"calc(-50% - 170px)",scale:1.2,rotate:150,transition:l(1)}:{x:"-50%",y:"-50%",scale:1,rotate:0,transition:{duration:.2,ease:"easeOut"}}}),(0,n.jsx)(o.P.div,{className:"absolute top-1/2 left-1/2 ".concat(i(a,2)," ").concat(r(a,2)," pointer-events-none"),style:{transform:"translateZ(0) rotate(45deg)"},initial:{x:"-50%",y:"-50%",scale:1,rotate:45},animate:t?{x:"calc(-50% + 180px)",y:"calc(-50% - 100px)",scale:1.2,rotate:195,transition:{x:{duration:.3,ease:"easeOut"},y:{duration:.3,ease:"easeOut"},scale:{duration:.3,ease:"easeOut"},rotate:{duration:1,ease:"easeOut"}}}:{x:"-50%",y:"-50%",scale:1,rotate:45,transition:{duration:.2,ease:"easeOut"}}}),(0,n.jsx)(o.P.img,{src:"/CS_Ellipse_6.svg",alt:"dashed circle",className:"absolute top-1/2 left-1/2 ".concat(i(a,3)," pointer-events-none"),style:{transform:"translateZ(0)"},initial:{x:"-50%",y:"-50%",scale:1,rotate:0},animate:t?{x:"calc(-50% + 220px)",y:"-50%",scale:1.2,rotate:150,transition:{x:{duration:.3,ease:"easeOut"},scale:{duration:.3,ease:"easeOut"},rotate:{duration:1,ease:"easeOut"}}}:{x:"-50%",y:"-50%",scale:1,rotate:0,transition:{duration:.2,ease:"easeOut"}}}),(0,n.jsx)(o.P.img,{src:"/CS_Star_13.svg",className:"absolute top-1/2 left-1/2 ".concat(i(a,4)," pointer-events-none"),style:{transform:"translateZ(0)"},initial:{x:"-50%",y:"-50%",scale:1,rotate:0},animate:t?{x:"calc(-50% - 220px)",y:"calc(-50% + 100px)",scale:1.2,rotate:150,transition:{x:{duration:.3,ease:"easeOut"},y:{duration:.3,ease:"easeOut"},scale:{duration:.3,ease:"easeOut"},rotate:{duration:1,ease:"easeOut"}}}:{x:"-50%",y:"-50%",scale:1,rotate:0,transition:{duration:.2,ease:"easeOut"}}}),(0,n.jsx)(o.P.div,{className:"absolute top-1/2 left-1/2 ".concat(i(a,5)," ").concat(r(a,5)," rounded-full pointer-events-none"),style:{transform:"translateZ(0)"},initial:{x:"-50%",y:"-50%",scale:1,rotate:0},animate:t?{x:"-50%",y:"calc(-50% + 120px)",scale:1.2,rotate:-150,transition:{y:{duration:.3,ease:"easeOut"},scale:{duration:.3,ease:"easeOut"},rotate:{duration:1,ease:"easeOut"}}}:{x:"-50%",y:"-50%",scale:1,rotate:0,transition:{duration:.2,ease:"easeOut"}}}),(0,n.jsx)(o.P.img,{src:"/point-star-1.svg",alt:"star",className:"absolute top-1/2 left-1/2 ".concat(i(a,7)," pointer-events-none"),style:{transform:"translateZ(0) scale(0.8)"},initial:{x:"-50%",y:"-50%",scale:.8,rotate:0},animate:t?{x:"calc(-50% + 200px)",y:"calc(-50% + 150px)",scale:1.2,rotate:150,transition:{x:{duration:.3,ease:"easeOut"},y:{duration:.3,ease:"easeOut"},scale:{duration:.3,ease:"easeOut"},rotate:{duration:1,ease:"easeOut"}}}:{x:"-50%",y:"-50%",scale:.8,rotate:0,transition:{duration:.2,ease:"easeOut"}}}),(0,n.jsx)(o.P.div,{className:"absolute top-1/2 left-1/2 ".concat(i(a,0)," ").concat(r(a,0)," pointer-events-none"),style:{clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",transform:"translateZ(0)"},initial:{x:"-50%",y:"-50%",scale:1,rotate:0},animate:t?{x:"calc(-50% - 150px)",y:"calc(-50% + 120px)",scale:1.2,rotate:150,transition:{x:{duration:.3,ease:"easeOut"},y:{duration:.3,ease:"easeOut"},scale:{duration:.3,ease:"easeOut"},rotate:{duration:1,ease:"easeOut"}}}:{x:"-50%",y:"-50%",scale:1,rotate:0,transition:{duration:.2,ease:"easeOut"}}})]})}function l(e){let{videoList:t,yearMonth:a}=e,[l,c]=(0,s.useState)([]),[u,d]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),[x,g]=(0,s.useState)({width:1024,height:768}),[v,A]=(0,s.useState)(1),f=(0,s.useRef)(null),[p,y]=(0,s.useState)(!1),[b,w]=(0,s.useState)(!1);(0,s.useEffect)(()=>{y(!0);let e=()=>{let e=window.innerWidth;g({width:e,height:window.innerHeight}),w(e>=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let[j,N]=(0,s.useState)(null),C=(0,s.useRef)([]),O=(0,s.useMemo)(()=>{let e=["bg-gradient-to-bl from-indigo-500 from-0% via-lime-100 via-50% to-fuchsia-500 to-100%","bg-gradient-to-t from-emerald-100 from-0% via-red-500 via-50% to-cyan-600 to-100%","bg-gradient-to-b from-pink-100 from-0% via-teal-300 via-50% to-green-500 to-100%","bg-gradient-to-t from-cyan-300 from-0% via-purple-400 via-50% to-zinc-100 to-100%","bg-gradient-to-b from-gray-600 from-0% via-rose-400 via-50% to-orange-500 to-100%","bg-gradient-to-t from-orange-300 from-0% to-sky-500 to-100%","bg-gradient-to-tl from-stone-500 from-0% via-rose-200 via-50% to-green-300 to-100%","bg-gradient-to-tr from-yellow-700 from-0% to-blue-600 to-100%","bg-gradient-to-r from-blue-200 from-0% via-emerald-50 via-50% to-slate-300 to-100%","bg-gradient-to-br from-green-300 from-0% to-red-300 to-100%"],a=["w-16 h-16","w-20 h-20","w-24 h-24","w-28 h-28","w-32 h-32","w-36 h-36"];return(null!=t?t:[]).map((t,n)=>Array.from({length:8},(t,s)=>{let o=(31*n+17*s)%e.length,i=(13*n+7*s)%a.length;return{color:e[o],size:a[i]}}))},[t]),E=(e,t)=>{var a,n;return(null==(n=O[e])||null==(a=n[t])?void 0:a.color)||O[0][0].color},k=(e,t)=>{var a,n;return(null==(n=O[e])||null==(a=n[t])?void 0:a.size)||O[0][0].size},M=x.width<768;(0,s.useEffect)(()=>{c([...null!=t?t:[]].sort(()=>Math.random()-.5))},[t]);let S=(0,s.useMemo)(()=>{if(b)return l;{let e=(v-1)*8;return l.slice(e,e+8)}},[b,l,v,8]),B=Math.ceil(l.length/8),K=e=>{A(e),f.current&&f.current.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})};(0,s.useEffect)(()=>{if(!p||!M||b)return;let e=!1,t=()=>{e||(requestAnimationFrame(()=>{let t=window.innerHeight/2,a=null;S.forEach((e,n)=>{let s=C.current[n];if(!s)return;let o=s.getBoundingClientRect();o.bottom<0||o.top>window.innerHeight||100>Math.abs(o.top+o.height/2-t)&&(a=e.id)}),N(a),e=!1}),e=!0)};return window.addEventListener("scroll",t,{passive:!0}),t(),()=>{window.removeEventListener("scroll",t)}},[p,M,b,S]);let[z,L]=(0,s.useState)([]),P=(0,s.useCallback)(e=>{L(t=>{let a=[...t];return a[e]=!0,a})},[]);return p?t&&0!==t.length?(0,n.jsx)("div",{className:"py-16 bg-none overflow-hidden relative z-10",children:(0,n.jsxs)("div",{className:"w-full px-4",children:[(0,n.jsxs)("div",{className:"text-center mb-12",children:[a&&(0,n.jsx)("div",{className:"text-lg font-semibold mb-2",children:a}),(0,n.jsx)("h2",{className:"text-4xl font-bold text-base-content mb-4 relative z-50",ref:f,children:"MONTHLY PICKUP PLAYLIST"})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 relative",children:S.map((e,t)=>{var a;let s=u===e.id,l=m===e.id,c=z[t],x=p&&c&&(b?s||l:j===e.id),g=!b;return(0,n.jsxs)(o.P.div,{className:"card cursor-pointer w-full max-w-[300px] mx-auto z-10 overflow-visible ".concat(c?"":"opacity-50 pointer-events-none"),ref:e=>{C.current[t]=e},onClick:()=>window.open(e.url,"_blank"),onHoverStart:g?void 0:()=>d(e.id),onHoverEnd:g?void 0:()=>d(null),onTouchStart:()=>h(e.id),onTouchEnd:()=>h(null),animate:{scale:x?1.1:1,transition:{duration:.4,ease:"easeOut"}},style:{willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)"},children:[(0,n.jsx)(r,{isActive:x,index:t,isMobile:M,getFixedSize:k,getFixedColor:E}),(0,n.jsxs)("div",{className:"bg-[#EEEEEE] shadow-lg transition-all duration-300 ease-out hover:shadow-2xl relative overflow-hidden rounded-lg",children:[(0,n.jsx)(o.P.figure,{className:"relative z-20 overflow-hidden h-40",style:{willChange:"transform",perspective:"1000px"},animate:{scale:x?1.55:1,y:x?"27%":"0%",transition:{duration:.15,ease:"easeOut"}},initial:{transformOrigin:"center center"},children:(0,n.jsx)(i.A,{videoId:null!=(a=e.id)?a:"",videoUrl:e.url,thumbnail:e.thumbnail,ogpThumbnailUrl:e.ogpThumbnailUrl,width:400,height:225,className:"w-full h-full object-cover object-center",onLoad:()=>P(t),loading:"lazy",quality:75,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),(0,n.jsxs)(o.P.div,{className:"absolute inset-0 z-40 pointer-events-none overflow-hidden rounded-lg",initial:{opacity:0,scale:1,transformOrigin:"center center"},animate:{opacity:.8*!!x,scale:1,transition:{duration:.3,ease:"easeOut"}},style:{willChange:"transform, opacity",transformStyle:"preserve-3d",backfaceVisibility:"hidden"},children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-800/50 via-gray-800/10 to-transparent"}),(0,n.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[(0,n.jsx)("h3",{className:"text-lg font-bold line-clamp-1 mb-1 drop-shadow-lg",children:e.title}),(0,n.jsxs)("p",{className:"text-sm opacity-90 truncate flex items-center justify-between drop-shadow-lg",children:[e.artist,(0,n.jsx)("svg",{className:"w-4 h-4 ml-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}),(0,n.jsx)(o.P.div,{className:"absolute inset-0 top-40 bg-base-200 z-10 rounded-b-lg",animate:{y:120*!!x,transition:{duration:.5,ease:"easeOut"}}}),(0,n.jsxs)(o.P.div,{className:"card-body p-4 relative z-30 flex-1",animate:{y:140*!!x,transition:{duration:.5,ease:"easeOut"}},children:[(0,n.jsx)(o.P.h3,{className:"card-title text-base line-clamp-1 transition-all duration-500 ease-out ".concat(g?"":"group-hover:text-white group-hover:drop-shadow-lg"),animate:{y:160*!!x,transition:{duration:.5,ease:"easeOut"}},whileHover:g?void 0:{y:-2,transition:{duration:.3,ease:"easeOut"}},children:e.title}),(0,n.jsxs)(o.P.p,{className:"text-sm mt-1 truncate transition-all duration-500 ease-out ".concat(g?"":"group-hover:text-white/90 group-hover:drop-shadow-lg"," flex items-center justify-between"),animate:{y:180*!!x,transition:{duration:.5,ease:"easeOut"}},whileHover:g?void 0:{y:-1,transition:{duration:.3,ease:"easeOut",delay:.1}},title:e.artist,children:[e.artist,(0,n.jsx)(o.P.svg,{className:"w-3 h-3 ml-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:g?void 0:{x:3,y:-2,scale:1.2,transition:{duration:.3,ease:"easeOut"}},children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]},e.id)})}),(0,n.jsxs)("div",{className:"text-center mt-12",children:[x.width<768&&B>1&&(0,n.jsxs)("div",{className:"flex justify-center items-center gap-2 mb-6 relative z-50",children:[(0,n.jsx)("button",{onClick:()=>K(v-1),disabled:1===v,className:"btn btn-sm btn-outline disabled:opacity-50",children:"前へ"}),(0,n.jsx)("div",{className:"flex gap-1",children:Array.from({length:B},(e,t)=>t+1).map(e=>(0,n.jsx)("button",{onClick:()=>K(e),className:"btn btn-sm ".concat(v===e?"btn-primary":"btn-outline"),children:e},e))}),(0,n.jsx)("button",{onClick:()=>K(v+1),disabled:v===B,className:"btn btn-sm btn-outline disabled:opacity-50",children:"次へ"})]}),(0,n.jsxs)("p",{className:"text-base-content/60 text-sm mb-2",children:["本サイトは楽曲との出会いの偏りを減らすため",(0,n.jsx)("br",{}),"更新するたびランダムに並び替えています"]}),(0,n.jsx)("p",{className:"text-base-content/60 text-[10px]",children:"niconicoでのリンクが取得できなかった場合、youtubeのリンクを表示します"})]})]})}):(0,n.jsx)("div",{className:"text-center py-12",children:"動画データがありません"}):null}},8078:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(5155),s=a(2115),o=a(6766);function i(e){let{src:t,alt:a,width:s,height:i,className:r,onError:l,onLoad:c,loading:u,quality:d,sizes:m}=e;return(0,n.jsx)(o.default,{src:t,alt:a,width:s,height:i,className:"rounded-lg object-cover object-center ".concat(null!=r?r:""),onError:l,onLoad:c,loading:u,quality:d,sizes:m,priority:"eager"===u,placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R//2Q=="})}let r=s.memo(function(e){let{videoId:t,videoUrl:a,width:r=312,height:l=176,className:c="",onError:u,thumbnail:d,ogpThumbnailUrl:m,quality:h=75,sizes:x}=e,[g,v]=(0,s.useState)(null),[A,f]=(0,s.useState)(!0),[p,y]=(0,s.useState)(!1),b=(0,s.useMemo)(()=>(function(e,t){if(t){if(t.includes("youtube.com")||t.includes("youtu.be"))return"youtube";if(t.includes("nicovideo.jp"))return"nicovideo"}return/^(sm|so|nm)\d+$/.test(e)?"nicovideo":/^[a-zA-Z0-9_-]{11}$/.test(e)?"youtube":"unknown"})(t,a),[t,a]),w=(0,s.useCallback)(()=>{if(y(!1),f(!0),v(null),m&&""!==m.trim()){v(m),f(!1);return}if("youtube"===b&&d||d){v(d),f(!1);return}if("nicovideo"===b){v("https://tn.smilevideo.jp/smile?i=".concat(t)),f(!1);return}if("youtube"===b){v("https://img.youtube.com/vi/".concat(t,"/hqdefault.jpg")),f(!1);return}v("https://nicovideo.cdn.nimg.jp/thumbnails/".concat(t,"/320x180")),f(!1)},[t,b,d,m]);return((0,s.useEffect)(()=>{w()},[w]),A)?(0,n.jsx)("div",{className:"flex items-center justify-center bg-[#EEEEEE] rounded-lg ".concat(c),style:{width:r,height:l},children:(0,n.jsx)(o.default,{src:"/Logo_Mark.svg",alt:"ローディング中",width:Math.min(r,64),height:Math.min(l,64),className:"yukue-spin"})}):g&&!p?(0,n.jsx)(i,{src:g,alt:"".concat(t," のサムネイル"),width:r,height:l,className:c,onError:()=>{y(!0),null==u||u({type:"error",videoId:t})},onLoad:e.onLoad,loading:e.loading,quality:h,sizes:x}):(0,n.jsx)("div",{className:"flex items-center justify-center bg-[#EEEEEE] rounded-lg ".concat(c),style:{width:r,height:l},children:(0,n.jsxs)("div",{className:"text-center text-gray-500",children:[(0,n.jsx)(o.default,{src:"/Logo_Mark.svg",alt:"サムネイル読み込みエラー",width:Math.min(r,64),height:Math.min(l,64),className:"mx-auto mb-2 opacity-50"}),(0,n.jsx)("p",{className:"text-xs",children:"サムネイル読み込みエラー"})]})})})}}]);